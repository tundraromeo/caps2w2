# Enable error reporting during development (disable in production)
# php_flag display_errors Off
# php_flag log_errors On

# Set default character encoding
AddDefaultCharset UTF-8

# Protect .env file from being accessed
<Files ".env">
    Order allow,deny
    Deny from all
</Files>

# Protect sensitive files
<FilesMatch "^(\.env|composer\.json|composer\.lock|\.git)">
    Order allow,deny
    Deny from all
</FilesMatch>

# Enable CORS (fallback if not set in PHP)
# Header always set Access-Control-Allow-Origin "*"
# Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
# Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With, Accept, Origin"

# Security Headers
Header always set X-Content-Type-Options "nosniff"
Header always set X-Frame-Options "SAMEORIGIN"
Header always set X-XSS-Protection "1; mode=block"

# Remove PHP version from headers
Header unset X-Powered-By

# Prevent directory listing
Options -Indexes

# Set default file for directory access
DirectoryIndex index.php index.html

# PHP configuration (if allowed on shared hosting)
<IfModule mod_php.c>
    php_value upload_max_filesize 20M
    php_value post_max_size 25M
    php_value max_execution_time 300
    php_value max_input_time 300
    php_value memory_limit 256M
    php_value session.gc_maxlifetime 3600
    php_flag session.cookie_httponly On
    php_flag session.cookie_secure On
</IfModule>

# Rewrite rules for clean URLs (if needed)
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Force HTTPS (uncomment in production)
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

